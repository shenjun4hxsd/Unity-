##æ•°æ®åº“

æ•°æ®åº“ï¼ˆDatabaseï¼‰æ˜¯æŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ï¼Œæ¯ä¸ªæ•°æ®åº“éƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸åŒçš„APIç”¨äºåˆ›å»ºï¼Œè®¿é—®ï¼Œç®¡ç†ï¼Œæœç´¢å’Œå¤åˆ¶æ‰€ä¿å­˜çš„æ•°æ®ã€‚

æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æ•°æ®å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼Œä½†æ˜¯åœ¨æ–‡ä»¶ä¸­è¯»å†™æ•°æ®é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚
æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰æ¥å­˜å‚¨å’Œç®¡ç†çš„å¤§æ•°æ®é‡ã€‚æ‰€è°“çš„å…³ç³»å‹æ•°æ®åº“ï¼Œæ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šçš„æ•°æ®åº“ï¼Œå€ŸåŠ©äºé›†åˆä»£æ•°ç­‰æ•°å­¦æ¦‚å¿µå’Œæ–¹æ³•æ¥å¤„ç†æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚

RDBMSå³å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(Relational Database Management System)çš„ç‰¹ç‚¹ï¼š

        1.æ•°æ®ä»¥è¡¨æ ¼çš„å½¢å¼å‡ºç°
        2.æ¯è¡Œä¸ºå„ç§è®°å½•åç§°
        3.æ¯åˆ—ä¸ºè®°å½•åç§°æ‰€å¯¹åº”çš„æ•°æ®åŸŸ
        4.è®¸å¤šçš„è¡Œå’Œåˆ—ç»„æˆä¸€å¼ è¡¨å•
        5.è‹¥å¹²çš„è¡¨å•ç»„æˆdatabase


####RDBMS æœ¯è¯­
åœ¨æˆ‘ä»¬å¼€å§‹å­¦ä¹ MySQL æ•°æ®åº“å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£ä¸‹RDBMSçš„ä¸€äº›æœ¯è¯­ï¼š

```
â€¢ æ•°æ®åº“: æ•°æ®åº“æ˜¯ä¸€äº›å…³è”è¡¨çš„é›†åˆã€‚
â€¢ æ•°æ®è¡¨: è¡¨æ˜¯æ•°æ®çš„çŸ©é˜µã€‚åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­çš„è¡¨çœ‹èµ·æ¥åƒä¸€ä¸ªç®€å•çš„ç”µå­è¡¨æ ¼ã€‚
â€¢ åˆ—: ä¸€åˆ—(æ•°æ®å…ƒç´ ) åŒ…å«äº†ç›¸åŒçš„æ•°æ®, ä¾‹å¦‚é‚®æ”¿ç¼–ç çš„æ•°æ®ã€‚
â€¢ è¡Œï¼šä¸€è¡Œï¼ˆ=å…ƒç»„ï¼Œæˆ–è®°å½•ï¼‰æ˜¯ä¸€ç»„ç›¸å…³çš„æ•°æ®ï¼Œä¾‹å¦‚ä¸€æ¡ç”¨æˆ·è®¢é˜…çš„æ•°æ®ã€‚
â€¢ å†—ä½™ï¼šå­˜å‚¨ä¸¤å€æ•°æ®ï¼Œå†—ä½™é™ä½äº†æ€§èƒ½ï¼Œä½†æé«˜äº†æ•°æ®çš„å®‰å…¨æ€§ã€‚
â€¢ ä¸»é”®ï¼šä¸»é”®æ˜¯å”¯ä¸€çš„ã€‚ä¸€ä¸ªæ•°æ®è¡¨ä¸­åªèƒ½åŒ…å«ä¸€ä¸ªä¸»é”®ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸»é”®æ¥æŸ¥è¯¢æ•°æ®ã€‚
â€¢ å¤–é”®ï¼šå¤–é”®ç”¨äºå…³è”ä¸¤ä¸ªè¡¨ã€‚
â€¢ å¤åˆé”®ï¼šå¤åˆé”®ï¼ˆç»„åˆé”®ï¼‰å°†å¤šä¸ªåˆ—ä½œä¸ºä¸€ä¸ªç´¢å¼•é”®ï¼Œä¸€èˆ¬ç”¨äºå¤åˆç´¢å¼•ã€‚
â€¢ ç´¢å¼•ï¼šä½¿ç”¨ç´¢å¼•å¯å¿«é€Ÿè®¿é—®æ•°æ®åº“è¡¨ä¸­çš„ç‰¹å®šä¿¡æ¯ã€‚ç´¢å¼•æ˜¯å¯¹æ•°æ®åº“è¡¨ä¸­ä¸€åˆ—æˆ–å¤šåˆ—çš„å€¼è¿›è¡Œæ’åºçš„ä¸€ç§ç»“æ„ã€‚ç±»ä¼¼äºä¹¦ç±çš„ç›®å½•ã€‚
â€¢ å‚ç…§å®Œæ•´æ€§: å‚ç…§çš„å®Œæ•´æ€§è¦æ±‚å…³ç³»ä¸­ä¸å…è®¸å¼•ç”¨ä¸å­˜åœ¨çš„å®ä½“ã€‚ä¸å®ä½“å®Œæ•´æ€§æ˜¯å…³ç³»æ¨¡å‹å¿…é¡»æ»¡è¶³çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ï¼Œç›®çš„æ˜¯ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚
```

####MySQLæ•°æ®åº“
MySQLæ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±ç‘å…¸MySQL ABå…¬å¸å¼€å‘ï¼Œç›®å‰å±äºOracleå…¬å¸ã€‚MySQLæ˜¯ä¸€ç§å…³è”æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…³è”æ•°æ®åº“å°†æ•°æ®ä¿å­˜åœ¨ä¸åŒçš„è¡¨ä¸­ï¼Œè€Œä¸æ˜¯å°†æ‰€æœ‰æ•°æ®æ”¾åœ¨ä¸€ä¸ªå¤§ä»“åº“å†…ï¼Œè¿™æ ·å°±å¢åŠ äº†é€Ÿåº¦å¹¶æé«˜äº†çµæ´»æ€§ã€‚

```
â€¢ Mysqlæ˜¯å¼€æºçš„ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦æ”¯ä»˜é¢å¤–çš„è´¹ç”¨ã€‚
â€¢ Mysqlæ”¯æŒå¤§å‹çš„æ•°æ®åº“ã€‚å¯ä»¥å¤„ç†æ‹¥æœ‰ä¸Šåƒä¸‡æ¡è®°å½•çš„å¤§å‹æ•°æ®åº“ã€‚
â€¢ MySQLä½¿ç”¨æ ‡å‡†çš„SQLæ•°æ®è¯­è¨€å½¢å¼ã€‚
â€¢ Mysqlå¯ä»¥å…è®¸äºå¤šä¸ªç³»ç»Ÿä¸Šï¼Œå¹¶ä¸”æ”¯æŒå¤šç§è¯­è¨€ã€‚è¿™äº›ç¼–ç¨‹è¯­è¨€åŒ…æ‹¬Cã€C++ã€Pythonã€Javaã€Perlã€PHPã€Eiffelã€Rubyå’ŒTclç­‰ã€‚
â€¢ Mysqlå¯¹PHPæœ‰å¾ˆå¥½çš„æ”¯æŒï¼ŒPHPæ˜¯ç›®å‰æœ€æµè¡Œçš„Webå¼€å‘è¯­è¨€ã€‚
â€¢ MySQLæ”¯æŒå¤§å‹æ•°æ®åº“ï¼Œæ”¯æŒ5000ä¸‡æ¡è®°å½•çš„æ•°æ®ä»“åº“ï¼Œ32ä½ç³»ç»Ÿè¡¨æ–‡ä»¶æœ€å¤§å¯æ”¯æŒ4GBï¼Œ64ä½ç³»ç»Ÿæ”¯æŒæœ€å¤§çš„è¡¨æ–‡ä»¶ä¸º8TBã€‚
â€¢ Mysqlæ˜¯å¯ä»¥å®šåˆ¶çš„ï¼Œé‡‡ç”¨äº†GPLåè®®ï¼Œä½ å¯ä»¥ä¿®æ”¹æºç æ¥å¼€å‘è‡ªå·±çš„Mysqlç³»ç»Ÿã€‚
```



####SQLè¯­å¥ï¼š

```
mysql -h localhost -u ç”¨æˆ·å -på¯†ç 
use åº“åï¼›	// åˆ‡æ¢é»˜è®¤åº“

DDLï¼šå¯¹æ•°æ®åº“å’Œè¡¨è¿›è¡Œæ“ä½œ
	create database åº“å	// create database if not exists åº“å
	create table [è‹¦å‘½.]è¡¨å   //use åº“å

	drop database åº“å
	drop table è¡¨å

DMLï¼šå¯¹æ•°æ®åº“è¡¨è¿›è¡Œå¢åˆ æ”¹
	insert into users(id,name) values('1','zhangsan');
	update users set name='lili',age='18' where id='1';   // æ›´æ–°
	delete from name where id='1';

DQL:å¯¹æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢æ“ä½œ
	select * from name

DCL:æŸ¥çœ‹æ‰€æœ‰åº“ã€è¡¨ç»“æ„ç­‰
	show databases	çœ‹æ‰€æœ‰åº“
	show tables	çœ‹æ‰€æœ‰è¡¨
	decs è¡¨å		çœ‹è¡¨ç»“æ„
	show variables	é…ç½®æ–‡ä»¶å˜é‡

	\s	çœ‹çŠ¶æ€

å¸®åŠ©çš„ä½¿ç”¨
	ï¼Ÿ contents	çœ‹å¸®åŠ©å†…å®¹
	? int
	? show
	? create table

-- åˆ›å»ºæ•°æ®åº“
create database game_data;

-- åˆ‡æ¢é»˜è®¤è¡¨
use game_data;

-- åˆ›å»ºè¡¨
create table tbl_enemy (id int(3), name varchar(20), movespeed int(4), atk int(4)) character set = utf8;

-- åˆ é™¤è¡¨
drop table tbl_enemy;

-- æŸ¥çœ‹è¡¨
select * from tbl_enemy;

-- æ·»åŠ æ•°æ®
insert into tbl_enemy values(1, 'è¿‘æˆ˜å…µ', 10, 10);
insert into tbl_enemy values(2, 'å¼“ç®­æ‰‹', 10, 10);
insert into tbl_enemy values(1, 'æ³•å¸ˆ', 10, 10, 1, 100);

-- ä¿®æ”¹å­—æ®µå€¼
update tbl_enemy set id=3 where name='æ³•å¸ˆ';
update tbl_enemy set move_speed=8, atk_interval=1 where id=1;
update tbl_enemy set move_speed = 12 where id=2;
update tbl_enemy set atk=20, atk_interval=1 where id=3;
update tbl_enemy set atk = 8, atk_interval=1 where id=2;

update tbl_enemy set atk_interval=2;

update tbl_enemy set atk_interval=1 where id=1;

update tbl_enemy set hp=100;

-- å¢åŠ å­—æ®µ
alter table tbl_enemy add atkinterval int(4);
alter table tbl_enemy add hp int(4) not null;
alter table tbl_enemy add email varchar(20);

-- åˆ é™¤å­—æ®µ
alter table tbl_enemy drop email;

-- åˆ é™¤è¡Œ
delete from tbl_enemy where hp=100;

-- å­—æ®µæ”¹å(æ”¹æ•°æ®ç±»å‹)
alter table tbl_enemy change movespeed move_speed int(4);
alter table tbl_enemy change atkinterval atk_interval int(4);

alter table tbl_enemy rename table_enemy;
alter table table_enemy rename tbl_enemy;

```







ğŸ”š

