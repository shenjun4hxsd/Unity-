####TestUTF8.cs

```csharp
    using UnityEngine;
    using LuaInterface;
    
    public class TestUTF8 : LuaClient
    {
        string script =
    @"
        local utf8 = utf8
    
        function Test()        
    	    local l1 = utf8.len('ä½ å¥½')
            local l2 = utf8.len('ã“ã‚“ã«ã¡ã¯')
            print('chinese string len is: '..l1..' japanese len: '..l2)     
    
            local s = 'éå†å­—ç¬¦ä¸²'                                        
    
            for i in utf8.byte_indices(s) do            
                local next = utf8.next(s, i)                   
                print(s:sub(i, next and next -1))
            end   
    
            local s1 = 'å¤©ä¸‹é£äº‘å‡ºæˆ‘è¾ˆ'        
            print('é£äº‘ count is: '..utf8.count(s1, 'é£äº‘'))
            s1 = s1:gsub('é£äº‘', 'é¢¨é›²')
    
            local function replace(s, i, j, repl_char)            
    	        if s:sub(i, j) == 'è¾ˆ' then
    		        return repl_char            
    	        end
            end
    
            print(utf8.replace(s1, replace, 'è¼©'))
        end
    ";
    
        protected override LuaFileUtils InitLoader()
        {
            return new LuaResLoader();
        }
    
        //å±è”½ï¼Œä¾‹å­ä¸éœ€è¦è¿è¡Œ
        protected override void CallMain() { }
    
        protected override void OnLoadFinished()
        {
            base.OnLoadFinished();
            luaState.DoString(script);
            LuaFunction func = luaState.GetFunction("Test");
            func.Call();
            func.Dispose();
            func = null;
        }
    }
```

ğŸ”š